<svg xmlns="http://www.w3.org/2000/svg" width="1260" height="1120" viewBox="0 0 1260 1120">
  <defs>
    <marker id="arr"       markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#ffffff"/></marker>
    <marker id="arr-ret"   markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#6b7280"/></marker>
    <marker id="arr-green" markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#4ade80"/></marker>
    <marker id="arr-mcp"   markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#e879f9"/></marker>
    <marker id="arr-org"   markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#fb923c"/></marker>
    <marker id="arr-yel"   markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#fbbf24"/></marker>
    <marker id="arr-dim"   markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#374151"/></marker>
    <marker id="arr-elser" markerWidth="9" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,9 3.5,0 7" fill="#22d3ee"/></marker>
    <style>
      @keyframes flowFwd  { from { stroke-dashoffset: 24; } to { stroke-dashoffset: 0; } }
      @keyframes flowRet  { from { stroke-dashoffset: 18; } to { stroke-dashoffset: 0; } }
      @keyframes flowSlow { from { stroke-dashoffset: 28; } to { stroke-dashoffset: 0; } }
      .flow-fwd      { stroke-dasharray: 18 6;  animation: flowFwd  1.1s linear infinite; }
      .flow-fwd-fast { stroke-dasharray: 14 5;  animation: flowFwd  0.75s linear infinite; }
      .flow-ret      { stroke-dasharray: 9 4;   animation: flowRet  1.6s linear infinite; }
      .flow-poll     { stroke-dasharray: 10 4;  animation: flowFwd  0.7s linear infinite; }
      .flow-green    { stroke-dasharray: 20 6;  animation: flowSlow 1.4s linear infinite; }
      .flow-dim      { stroke-dasharray: 6 4;   animation: flowRet  3s   linear infinite; }
      .flow-loop     { stroke-dasharray: 16 6;  animation: flowFwd  1.3s linear infinite; }
      .flow-elser    { stroke-dasharray: 12 4;  animation: flowFwd  0.9s linear infinite; }
      .flow-write    { stroke-dasharray: 8 5;   animation: flowFwd  2s   linear infinite; }
    </style>
  </defs>

  <rect width="1260" height="1120" fill="#111117"/>

  <!-- Title -->
  <text x="630" y="40" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="18" font-weight="700">QuantumState â€” Autonomous SRE Pipeline</text>

  <!-- â”€â”€ TOP ACTOR BOXES â”€â”€ -->
  <rect x="51"  y="54" width="160" height="52" rx="7" fill="#1c1c2e" stroke="#4b5563" stroke-width="1.5"/>
  <text x="131" y="76"  text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ–¥ï¸  SRE</text>
  <text x="131" y="95"  text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="11">React Console</text>

  <rect x="262" y="54" width="200" height="52" rx="7" fill="#1a1a30" stroke="#6366f1" stroke-width="1.5"/>
  <text x="362" y="76"  text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ¤–  Agent Pipeline</text>
  <text x="362" y="95"  text-anchor="middle" fill="#a5b4fc" font-family="system-ui,sans-serif" font-size="11">Elastic Agent Builder</text>

  <rect x="513" y="54" width="220" height="52" rx="7" fill="#1c1c1a" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="623" y="76"  text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ—„ï¸  Elasticsearch</text>
  <text x="623" y="95"  text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Metrics Â· Logs Â· Incidents Â· Runbooks</text>

  <rect x="784" y="54" width="180" height="52" rx="7" fill="#1c1a14" stroke="#f97316" stroke-width="1.5"/>
  <text x="874" y="76"  text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">âš¡  Workflow</text>
  <text x="874" y="95"  text-anchor="middle" fill="#fdba74" font-family="system-ui,sans-serif" font-size="11">Case Management Â· Audit</text>

  <rect x="1015" y="54" width="196" height="52" rx="7" fill="#1a0d2e" stroke="#a855f7" stroke-width="1.5"/>
  <text x="1113" y="76"  text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">âš™ï¸  MCP Runner</text>
  <text x="1113" y="95"  text-anchor="middle" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="11">Docker Socket Â· Infra Actions</text>

  <!-- â”€â”€ LIFELINES â”€â”€ -->
  <line x1="131"  y1="106" x2="131"  y2="1048" stroke="#374151" stroke-width="1" stroke-dasharray="6,5"/>
  <line x1="362"  y1="106" x2="362"  y2="1048" stroke="#4f46e5" stroke-width="1" stroke-dasharray="6,5" opacity="0.5"/>
  <line x1="623"  y1="106" x2="623"  y2="1048" stroke="#d97706" stroke-width="1" stroke-dasharray="6,5" opacity="0.5"/>
  <line x1="874"  y1="106" x2="874"  y2="1048" stroke="#ea7216" stroke-width="1" stroke-dasharray="6,5" opacity="0.4"/>
  <line x1="1113" y1="106" x2="1113" y2="1048" stroke="#a855f7" stroke-width="1" stroke-dasharray="6,5" opacity="0.45"/>

  <!-- â•â• ALWAYS ON â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <text x="20" y="120" fill="#374151" font-family="system-ui,sans-serif" font-size="9" font-weight="700" letter-spacing="1.5">ALWAYS ON</text>
  <line class="flow-dim" x1="1095" y1="130" x2="641" y2="130" stroke="#6b7280" stroke-width="1.5" marker-end="url(#arr-ret)"/>
  <text x="868" y="124" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="11">Infra scraper streams metrics + logs â†’ ES every 15 s</text>

  <!-- â•â• TRIGGER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="142" x2="1240" y2="142" stroke="#1f2937" stroke-width="1"/>
  <text x="20" y="156" fill="#6b7280" font-family="system-ui,sans-serif" font-size="9" font-weight="700" letter-spacing="1.5">TRIGGER</text>
  <line class="flow-fwd" x1="131" y1="166" x2="344" y2="166" stroke="#ffffff" stroke-width="1.5" marker-end="url(#arr)"/>
  <text x="247" y="160" text-anchor="middle" fill="#e5e7eb" font-family="system-ui,sans-serif" font-size="12">Run pipeline (manual or auto-run every 180 s)</text>

  <!-- â•â• CASSANDRA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="182" x2="1240" y2="182" stroke="#1f2937" stroke-width="1"/>
  <rect x="300" y="188" width="124" height="20" rx="5" fill="#1e2040" stroke="#3b82f6" stroke-width="1"/>
  <text x="362" y="202" text-anchor="middle" fill="#93c5fd" font-family="system-ui,sans-serif" font-size="12" font-weight="600">ğŸ”®  Cassandra</text>

  <line class="flow-fwd" x1="362" y1="228" x2="605" y2="228" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="492" y="222" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Detect anomalies Â· estimate time-to-failure</text>

  <path class="flow-loop" d="M623 242 Q667 242 667 254 Q667 266 623 266" fill="none" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="677" y="258" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Query metrics</text>

  <line class="flow-ret" x1="605" y1="280" x2="380" y2="280" stroke="#6b7280" stroke-width="1" marker-end="url(#arr-ret)"/>
  <text x="492" y="274" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="12">Anomaly type Â· confidence Â· time-to-failure</text>

  <!-- â•â• ARCHAEOLOGIST â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="296" x2="1240" y2="296" stroke="#1f2937" stroke-width="1"/>
  <rect x="290" y="302" width="144" height="20" rx="5" fill="#0e2533" stroke="#06b6d4" stroke-width="1"/>
  <text x="362" y="316" text-anchor="middle" fill="#67e8f9" font-family="system-ui,sans-serif" font-size="12" font-weight="600">ğŸº  Archaeologist</text>

  <!-- ES|QL: logs + deployments -->
  <line class="flow-fwd" x1="362" y1="342" x2="605" y2="342" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="492" y="336" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Search error logs Â· correlate deployments</text>

  <path class="flow-loop" d="M623 356 Q667 356 667 368 Q667 380 623 380" fill="none" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="677" y="372" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Query logs</text>

  <!-- ELSER: semantic search on past incidents -->
  <line class="flow-elser" x1="362" y1="400" x2="605" y2="400" stroke="#22d3ee" stroke-width="1.5" marker-end="url(#arr-elser)"/>
  <text x="492" y="394" text-anchor="middle" fill="#67e8f9" font-family="system-ui,sans-serif" font-size="12">Semantic search Â· past incidents  (ELSER)</text>

  <path class="flow-loop" d="M623 414 Q667 414 667 426 Q667 438 623 438" fill="none" stroke="#22d3ee" stroke-width="1.5" marker-end="url(#arr-elser)"/>
  <text x="677" y="430" fill="#67e8f9" font-family="system-ui,sans-serif" font-size="11">incidents index</text>

  <line class="flow-ret" x1="605" y1="452" x2="380" y2="452" stroke="#6b7280" stroke-width="1" marker-end="url(#arr-ret)"/>
  <text x="492" y="446" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="12">Root cause Â· evidence chain Â· historical precedent</text>

  <!-- â•â• SURGEON â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="468" x2="1240" y2="468" stroke="#1f2937" stroke-width="1"/>
  <rect x="304" y="474" width="116" height="20" rx="5" fill="#0d2218" stroke="#10b981" stroke-width="1"/>
  <text x="362" y="488" text-anchor="middle" fill="#6ee7b7" font-family="system-ui,sans-serif" font-size="12" font-weight="600">âš•ï¸  Surgeon</text>

  <!-- ELSER: retrieve relevant runbook -->
  <line class="flow-elser" x1="362" y1="512" x2="605" y2="512" stroke="#22d3ee" stroke-width="1.5" marker-end="url(#arr-elser)"/>
  <text x="492" y="506" text-anchor="middle" fill="#67e8f9" font-family="system-ui,sans-serif" font-size="12">Retrieve relevant runbook  (ELSER)</text>

  <path class="flow-loop" d="M623 526 Q667 526 667 538 Q667 550 623 550" fill="none" stroke="#22d3ee" stroke-width="1.5" marker-end="url(#arr-elser)"/>
  <text x="677" y="542" fill="#67e8f9" font-family="system-ui,sans-serif" font-size="11">runbooks index</text>

  <line class="flow-ret" x1="605" y1="564" x2="380" y2="564" stroke="#374151" stroke-width="1" marker-end="url(#arr-dim)"/>
  <text x="492" y="558" text-anchor="middle" fill="#6b7280" font-family="system-ui,sans-serif" font-size="11">Runbook steps retrieved</text>

  <!-- ES|QL: sample metrics + log action -->
  <line class="flow-fwd" x1="362" y1="582" x2="605" y2="582" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="492" y="576" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Sample current metrics Â· log intended action</text>

  <path class="flow-loop" d="M623 596 Q667 596 667 608 Q667 620 623 620" fill="none" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="677" y="612" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Query metrics</text>

  <line class="flow-ret" x1="605" y1="634" x2="380" y2="634" stroke="#6b7280" stroke-width="1" marker-end="url(#arr-ret)"/>
  <text x="492" y="628" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="12">Confidence score Â· recommended action</text>

  <!-- â•â• TRIGGER REMEDIATION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="650" x2="1240" y2="650" stroke="#1f2937" stroke-width="1"/>
  <rect x="252" y="656" width="220" height="20" rx="5" fill="#2d1a04" stroke="#f97316" stroke-width="1"/>
  <text x="362" y="670" text-anchor="middle" fill="#fdba74" font-family="system-ui,sans-serif" font-size="12" font-weight="600">âš¡  Surgeon: conf â‰¥ 0.8 â†’ remediate</text>

  <line class="flow-fwd-fast" x1="362" y1="694" x2="856" y2="694" stroke="#f97316" stroke-width="1.5" marker-end="url(#arr-org)"/>
  <text x="609" y="688" text-anchor="middle" fill="#fdba74" font-family="system-ui,sans-serif" font-size="12">Trigger autonomous remediation workflow</text>

  <path class="flow-loop" d="M874 708 Q922 708 922 720 Q922 732 874 732" fill="none" stroke="#f97316" stroke-width="1.5" marker-end="url(#arr-org)"/>
  <text x="932" y="724" fill="#fdba74" font-family="system-ui,sans-serif" font-size="11">Create Case</text>

  <line class="flow-fwd" x1="856" y1="748" x2="641" y2="748" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="749" y="742" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Write remediation action  (status = pending)</text>

  <!-- Pipeline writes incident record -->
  <line class="flow-write" x1="380" y1="764" x2="605" y2="764" stroke="#374151" stroke-width="1.2" marker-end="url(#arr-dim)"/>
  <text x="492" y="758" text-anchor="middle" fill="#6b7280" font-family="system-ui,sans-serif" font-size="11">Write incident record  (timestamp = pipeline start)</text>

  <line class="flow-poll" x1="1095" y1="784" x2="641" y2="784" stroke="#a855f7" stroke-width="1.5" marker-end="url(#arr-mcp)"/>
  <text x="868" y="778" text-anchor="middle" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="12">Poll every 0.5 s</text>

  <path class="flow-loop" d="M1113 798 Q1153 798 1153 810 Q1153 822 1113 822" fill="none" stroke="#a855f7" stroke-width="1.5" marker-end="url(#arr-mcp)"/>
  <text x="1163" y="814" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="11">docker restart</text>

  <line class="flow-fwd" x1="1095" y1="840" x2="641" y2="840" stroke="#a855f7" stroke-width="1.5" marker-end="url(#arr-mcp)"/>
  <text x="868" y="834" text-anchor="middle" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="12">Update status = executed</text>

  <!-- â•â• GUARDIAN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <line x1="20" y1="858" x2="1240" y2="858" stroke="#1f2937" stroke-width="1"/>
  <rect x="284" y="864" width="156" height="20" rx="5" fill="#220c3a" stroke="#9333ea" stroke-width="1"/>
  <text x="362" y="878" text-anchor="middle" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="12" font-weight="600">ğŸ›¡ï¸  Guardian  (~60 s later)</text>

  <!-- Fetch incident record for MTTR -->
  <line class="flow-fwd" x1="362" y1="902" x2="605" y2="902" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="492" y="896" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Fetch incident record + remediation action</text>

  <!-- Verify health thresholds -->
  <line class="flow-fwd" x1="362" y1="934" x2="605" y2="934" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="492" y="928" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="12">Verify recovery â€” check all health thresholds</text>

  <path class="flow-loop" d="M623 948 Q667 948 667 960 Q667 972 623 972" fill="none" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arr-yel)"/>
  <text x="677" y="964" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Query metrics</text>

  <line class="flow-ret" x1="605" y1="986" x2="380" y2="986" stroke="#6b7280" stroke-width="1" marker-end="url(#arr-ret)"/>
  <text x="492" y="980" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="12">Verdict Â· MTTR Â· updates incident record</text>

  <!-- RESOLVED path -->
  <line class="flow-green" x1="362" y1="1006" x2="149" y2="1006" stroke="#4ade80" stroke-width="1.5" marker-end="url(#arr-green)"/>
  <text x="247" y="1000" text-anchor="middle" fill="#86efac" font-family="system-ui,sans-serif" font-size="12" font-weight="600">RESOLVED Â· MTTR shown in console</text>

  <!-- ESCALATE alternative -->
  <text x="247" y="1022" text-anchor="middle" fill="#6b7280" font-family="system-ui,sans-serif" font-size="10" font-style="italic">or  ESCALATE â†’ flags for human intervention</text>

  <!-- â”€â”€ BOTTOM ACTOR BOXES â”€â”€ -->
  <rect x="51"  y="1048" width="160" height="52" rx="7" fill="#1c1c2e" stroke="#4b5563" stroke-width="1.5"/>
  <text x="131" y="1070" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ–¥ï¸  SRE</text>
  <text x="131" y="1089" text-anchor="middle" fill="#9ca3af" font-family="system-ui,sans-serif" font-size="11">React Console</text>

  <rect x="262" y="1048" width="200" height="52" rx="7" fill="#1a1a30" stroke="#6366f1" stroke-width="1.5"/>
  <text x="362" y="1070" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ¤–  Agent Pipeline</text>
  <text x="362" y="1089" text-anchor="middle" fill="#a5b4fc" font-family="system-ui,sans-serif" font-size="11">Elastic Agent Builder</text>

  <rect x="513" y="1048" width="220" height="52" rx="7" fill="#1c1c1a" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="623" y="1070" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">ğŸ—„ï¸  Elasticsearch</text>
  <text x="623" y="1089" text-anchor="middle" fill="#fcd34d" font-family="system-ui,sans-serif" font-size="11">Metrics Â· Logs Â· Incidents Â· Runbooks</text>

  <rect x="784" y="1048" width="180" height="52" rx="7" fill="#1c1a14" stroke="#f97316" stroke-width="1.5"/>
  <text x="874" y="1070" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">âš¡  Workflow</text>
  <text x="874" y="1089" text-anchor="middle" fill="#fdba74" font-family="system-ui,sans-serif" font-size="11">Case Management Â· Audit</text>

  <rect x="1015" y="1048" width="196" height="52" rx="7" fill="#1a0d2e" stroke="#a855f7" stroke-width="1.5"/>
  <text x="1113" y="1070" text-anchor="middle" fill="#f9fafb" font-family="system-ui,sans-serif" font-size="14" font-weight="600">âš™ï¸  MCP Runner</text>
  <text x="1113" y="1089" text-anchor="middle" fill="#d8b4fe" font-family="system-ui,sans-serif" font-size="11">Docker Socket Â· Infra Actions</text>

</svg>
